# JahnDigital.StudentBank.WebUI

Web-based single-page application for JahnDigital.StudentBank.

## Getting Started

1. Install NPM packages by running `npm install`.
2. Generate a development SSL certificate by running `npm run certgen`.
    * Make sure to add the generated `localhost.crt` to your computer's trust store.
3. Run `npm run dev`.

## Development Tips

### Generating GraphQL Typescript Schema

1. Ensure that a local development copy of `JahnBank.StudentBank.WebAPI` is running on your machine.
2. Run `npm run graphql:download-schema` if you are on Windows or have Powershell installed on your OS.
    * Alternatively, run `wget -O src/generated/schema.graphql https://localhost:5001/graphql?sdl` if your on a *nix machine.
3. Run `npm run graphql:codegen` to generate a new `src/generated/graphql.ts` file.

### Folder Structure

At a high level, each folder in `src` organizes each module of the site:

```
src
|-common           ; Contains common code shared between all pages.
|-generated        ; Contains code generated by source code generators and GQL schema from the remote API.
|-admin            ; The admin module (SPA)
|-register         ; The registration module (SPA)
|-student          ; The main module of the application (SPA)
|-index.html       ; The entry point of the main page- includes main.ts from the student folder
```

Within the `admin`, `register`, and `student` folders, sub-folders further break down the SPA's major submodules:

```
admin
|-common           ; Contains common code shared between all pages in the module.
|-groups           ; Code pertaining to the groups submodule.
|-stocks           ; Code pertaining to the stocks submodule.
|-students         ; ... you get the idea
|-...
|-App.vue          ; Top-level vue component of the module
|-main.ts          ; Top-level entry point of the module.  This is the file included in the index.html
|-routes.ts        ; Route configuration for the entire module.  Includes route files from submodules.
|-symbols.ts       ; Symbols used to inject objects further down in the component tree, such as a GlobalStore.
```

Each submodule is structured thusly:

```
admin
|-students
  |-components     ; Vue components.  Can be further broken down by concern using sub-folders.
  |-composables    ; Vue composables.  These are hooks that can be used by components and pages to facilitate code reuse.
  |-pages          ; Vue components that are rendered as pages.  These are the components that vue-router loads.
  |-stores         ; Stores specific to the module.
  |-routeNames.ts  ; Contains a default export of an object where the key is the route name and the value is a path.
  |-routes.ts      ; Aggregates routes from the submodule into a default export that's rolled up into the module's routes.ts.
  |-symbols.ts     ; Symbols used to inject objects further down in the component tree, such as a StudentStore.
```
